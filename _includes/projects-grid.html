{% comment %}
  Renders a grid of projects from _data/projects.yml
  Usage: {% include projects-grid.html limit=6 %}
{% endcomment %}

{% assign projects = site.data.projects %}
{% if include.limit %}
  {% assign projects = projects | limit: include.limit %}
{% endif %}

<div class="projects-grid">
  {% for project in projects %}
  <article class="project-card">
    {% if project.image %}
    <div class="project-image">
      <img src="{{ project.image | relative_url }}" alt="{{ project.title }} screenshot" loading="lazy">
    </div>
    {% else %}
    <div class="project-image project-placeholder">
      <span aria-hidden="true">üìÅ</span>
    </div>
    {% endif %}
    
    <div class="project-content">
      <h3>{{ project.title | escape }}</h3>
      <p>{{ project.description | escape }}</p>
      
      {% if project.tags %}
      <div class="project-tags">
        {% for tag in project.tags %}
        <span class="tag">{{ tag }}</span>
        {% endfor %}
      </div>
      {% endif %}
      
      <div class="project-links">
        {% if project.demo_url %}
        <a href="{{ project.demo_url }}" class="btn btn-primary btn-sm" target="_blank" rel="noopener">Demo</a>
        {% endif %}
        {% if project.repo_url %}
        <a href="{{ project.repo_url }}" class="btn btn-secondary btn-sm" target="_blank" rel="noopener">Code</a>
        {% endif %}
      </div>
    </div>
  </article>
  {% endfor %}
</div>
